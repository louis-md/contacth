{{>navbar}}
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header p-4">
            <h5 class="modal-title text-primary font-weight-bold">Update my profile</h5>
        </div>

        <form action="/user/profile-edit/{{user.profile._id}}" method="post" class="create-contact-form"
            enctype="multipart/form-data">
            {{!-- <form action="/contact-create" method="post" class="create-contact-form"> --}}
            <div class="modal-body">

                <div class="form-group">
                    <label for="contact-firstName">First name</label>
                    <input id="contact-firstName" type="text" name="firstName" class="form-control"
                        value="{{user.profile.firstName}}">
                </div>

                <div class="form-group">
                    <label for="contact-lastName">Last name</label>
                    <input id="contact-lastName" type="text" name="lastName" class="form-control"
                        value="{{user.profile.lastName}}">
                </div>

                <div id="emails">
                    <div class="form-group">
                        <label for="contact-email">Email</label>
                        <input id="contact-email" type="text" name="primaryEmails" class="form-control"
                            value="{{user.email}}">
                    </div>
                    {{#each user.profile.secondaryEmails}}
                    <div class="form-group">
                        <label for="contact-email">Email</label>
                        <input id="contact-email" type="text" name="secondaryEmails" class="form-control"
                            value="{{this}}">
                        <span id="btn-delete-email" class="btn btn-secondary btn-sm">Delete</span>
                    </div>
                    {{/each}}
                </div>
            </div>
            <div id="btn-add-email" class="btn btn-secondary btn-sm">Add another email</div>
            <div id="phone-numbers">
                {{#if user.profile.phoneNumbers}}
                {{#each user.profile.phoneNumbers}}
                <div id="fieldPhoneNumber" class="form-group">
                    <label for="contact-phone">Phone number</label>
                    <input id="contact-phone" type="text" name="phoneNumbers" class="form-control" value="{{this}}">
                    <span id="btn-delete-number" class="btn btn-secondary btn-sm">Delete</span>
                </div>
                {{/each}}
                {{else}}
                <div id="fieldPhoneNumber" class="form-group">
                    <label for="contact-phone">Phone number</label>
                    <input id="contact-phone" type="text" name="phoneNumbers" class="form-control">
                    <span id="btn-delete-number" class="btn btn-secondary btn-sm">Delete</span>
                </div>
                {{/if}}
            </div>
            <div id="btn-add-number" class="btn btn-secondary btn-sm">Add another phone number</div>
            <div id="ethAddresses">
                {{#if user.profile.ethAddresses}}
                {{#each user.profile.ethAddresses}}
                <div class="form-group">
                    <label for="contact-ethereumAddresses">Ethereum address</label>
                    <input id="contact-ethereumAddresses" type="text" name="ethAddresses" class="form-control"
                        value="{{this}}">
                    <span id="btn-delete-ethAddress" class="btn btn-secondary btn-sm">Delete</span>
                </div>
                {{/each}}
                {{else}}
                <div class="form-group">
                    <label for="contact-ethereumAddresses">Ethereum address</label>
                    <input id="contact-ethereumAddresses" type="text" name="ethAddresses" class="form-control"
                        placeholder="0xLKJ243feihKJZ2N38PPDPJKbjk...">
                    <span id="btn-delete-ethAddress" class="btn btn-secondary btn-sm">Delete</span>
                </div>
                {{/if}}
            </div>
            <div id="btn-add-ethAddress" class="btn btn-secondary btn-sm">Add another ethereum address</div>
            <div>Postal Address(es)</div>
            <div id="postalAddresses">
                {{#if user.profile.postalAddresses}}
                {{#each user.profile.postalAddresses}}
                <div id="postalAddress">
                    <div class="form-group">
                        <label for="address-streetName">Street name</label>
                        <input id="address-streetName" type="text" name="streetName" class="form-control"
                            value="{{this.streetName}}">
                    </div>
                    <div class="form-group">
                        <label for="address-streetNumber">Street number</label>
                        <input id="address-streetNumber" type="number" min="1" name="streetNumber" class="form-control"
                            value="{{this.streetNumber}}">
                    </div>
                    <div class="form-group">
                        <label for="address-special">Special (bis, ter...)</label>
                        <input id="address-special" type="text" name="special" class="form-control"
                            value="{{this.special}}">
                    </div>
                    <div class="form-group">
                        <label for="address-postCode">Post code</label>
                        <input id="address-postCode" type="number" name="postCode" class="form-control"
                            value="{{this.postCode}}">
                    </div>
                    <div class="form-group">
                        <label for="address-city">City</label>
                        <input id="address-city" type="text" name="city" class="form-control" value="{{this.city}}">
                    </div>
                    <div class="form-group">
                        <label for="address-country">Country</label>
                        <input id="address-country" type="text" name="country" class="form-control"
                            value="{{this.country}}">
                    </div>
                    <div class="form-group">
                        <label class="label">Is it the principal residency ?</label>
                        {{#if this.principalResidency }}
                        <label for="is-principalResidency">yes</label>
                        <input id="is-principalResidency" type="radio" name="principalResidency" value="yes" checked>
                        <label for="is-not-principalResidency">no</label>
                        <input id="is-not-principalResidency" type="radio" name="principalResidency" value="no">
                        {{else}}
                        <label for="is-principalResidency">yes</label>
                        <input id="is-principalResidency" type="radio" name="principalResidency" value="yes">
                        <label for="is-not-principalResidency">no</label>
                        <input id="is-not-principalResidency" type="radio" name="principalResidency" value="no" checked>
                        {{/if}}
                    </div>
                    <span id="btn-delete-postalAddress" class="btn btn-secondary btn-sm">Delete</span>
                    <hr>
                </div>
                {{/each}}
                {{else}}
                <div id="postalAddress">
                    <div class="form-group">
                        <label for="address-streetName">Street name</label>
                        <input id="address-streetName" type="text" name="streetName" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="address-streetNumber">Street number</label>
                        <input id="address-streetNumber" type="number" min="1" name="streetNumber" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="address-special">Special (bis, ter...)</label>
                        <input id="address-special" type="text" name="special" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="address-postCode">Post code</label>
                        <input id="address-postCode" type="number" name="postCode" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="address-city">City</label>
                        <input id="address-city" type="text" name="city" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="address-country">Country</label>
                        <input id="address-country" type="text" name="country" class="form-control">
                    </div>
                    <div class="form-group">
                        <label class="label">Is it the principal residency ?</label>
                        <label for="is-principalResidency">Yes</label>
                        <input id="is-principalResidency" type="radio" name="principalResidency" value="Yes">
                        <label for="is-not-principalResidency">No</label>
                        <input id="is-not-principalResidency" type="radio" name="principalResidency" value="No" checked>
                    </div>
                    <span id="btn-delete-postalAddress" class="btn btn-secondary btn-sm">Delete</span>
                    <hr>
                </div>
            </div>
            {{/if}}
            <div id="btn-add-postalAddress" class="btn btn-secondary btn-sm">Add another postal address</div>

            <div><br><br> Social Accounts</div>
            <div class="form-group">
                <label for="socialAccounts-googleId">Google ID</label>
                <input id="socialAccounts-googleId" type="text" name="googleId" class="form-control"
                    value="{{user.profile.googleId}}">
            </div>
            <div class="form-group">
                <label for="socialAccounts-twitterId">Twitter ID</label>
                <input id="socialAccounts-twitterId" type="text" name="twitterId" class="form-control"
                    value="{{user.profile.twitterId}}">
            </div>
            <div class="form-group">
                <label for="socialAccounts-facebookId">Facebook ID</label>
                <input id="socialAccounts-facebookId" type="text" name="facebookId" class="form-control"
                    value="{{user.profile.facebookId}}">
            </div>
            <div class="form-group">
                <label for="socialAccounts-githubId">Github ID</label>
                <input id="socialAccounts-githubId" type="text" name="githubId" class="form-control"
                    value="{{user.profile.googleId}}">
            </div>
            <div class="form-group">
                <label for="contact-img" class="label-price label">Avatar</label>
                <input id="contact-img" type="file" name="avatar" class="input-text input">
            </div>
            <button class="btn btn-secondary btn-sm">Update profile</button>
        </form>

    </div>